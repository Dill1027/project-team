{"ast":null,"code":"var _jsxFileName = \"/Users/prabhath/Documents/GitHub/project-team/frontend/src/components/Login.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { GoogleLogin } from '@react-oauth/google';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Login() {\n  _s();\n  const navigate = useNavigate();\n  const [formData, setFormData] = useState({\n    email: '',\n    password: ''\n  });\n  const [error, setError] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const handleGoogleSuccess = async credentialResponse => {\n    setIsLoading(true);\n    setError('');\n    try {\n      console.log('Google response:', credentialResponse);\n      const response = await axios.post('http://localhost:5001/auth/google', {\n        credential: credentialResponse.credential\n      });\n      console.log('Server response:', response.data);\n      localStorage.setItem('token', response.data.token);\n      navigate('/home');\n    } catch (error) {\n      var _error$response;\n      console.error('Login failed:', ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || error.message);\n      setError('Login failed. Please try again.');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setIsLoading(true);\n    setError('');\n    try {\n      const response = await axios.post('http://localhost:5001/auth/login', formData);\n      localStorage.setItem('token', response.data.token);\n      navigate('/home');\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      setError(((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.error) || 'Login failed');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: '400px',\n      margin: '0 auto',\n      padding: '20px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: 'red',\n        marginBottom: '10px'\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '15px'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          placeholder: \"Email\",\n          value: formData.email,\n          onChange: e => setFormData({\n            ...formData,\n            email: e.target.value\n          }),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '15px'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          placeholder: \"Password\",\n          value: formData.password,\n          onChange: e => setFormData({\n            ...formData,\n            password: e.target.value\n          }),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: isLoading,\n        children: isLoading ? 'Logging in...' : 'Login'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        margin: '20px 0',\n        textAlign: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"OR\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(GoogleLogin, {\n        onSuccess: handleGoogleSuccess,\n        onError: () => setError('Google login failed')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Don't have an account? \", /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"/register\",\n        children: \"Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 32\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n}\n_s(Login, \"olL+mFg31C1pqFSAH4u75Pqm6zE=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","GoogleLogin","useNavigate","axios","jsxDEV","_jsxDEV","Login","_s","navigate","formData","setFormData","email","password","error","setError","isLoading","setIsLoading","handleGoogleSuccess","credentialResponse","console","log","response","post","credential","data","localStorage","setItem","token","_error$response","message","handleSubmit","e","preventDefault","_error$response2","_error$response2$data","style","maxWidth","margin","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","color","marginBottom","onSubmit","type","placeholder","value","onChange","target","required","disabled","textAlign","onSuccess","onError","href","_c","$RefreshReg$"],"sources":["/Users/prabhath/Documents/GitHub/project-team/frontend/src/components/Login.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { GoogleLogin } from '@react-oauth/google';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\n\nfunction Login() {\n  const navigate = useNavigate();\n  const [formData, setFormData] = useState({\n    email: '',\n    password: ''\n  });\n  const [error, setError] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n\n  const handleGoogleSuccess = async (credentialResponse) => {\n    setIsLoading(true);\n    setError('');\n    try {\n      console.log('Google response:', credentialResponse);\n      const response = await axios.post('http://localhost:5001/auth/google', {\n        credential: credentialResponse.credential\n      });\n      console.log('Server response:', response.data);\n      localStorage.setItem('token', response.data.token);\n      navigate('/home');\n    } catch (error) {\n      console.error('Login failed:', error.response?.data || error.message);\n      setError('Login failed. Please try again.');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setIsLoading(true);\n    setError('');\n\n    try {\n      const response = await axios.post('http://localhost:5001/auth/login', formData);\n      localStorage.setItem('token', response.data.token);\n      navigate('/home');\n    } catch (error) {\n      setError(error.response?.data?.error || 'Login failed');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div style={{ maxWidth: '400px', margin: '0 auto', padding: '20px' }}>\n      <h2>Login</h2>\n      {error && <div style={{ color: 'red', marginBottom: '10px' }}>{error}</div>}\n      <form onSubmit={handleSubmit}>\n        <div style={{ marginBottom: '15px' }}>\n          <input\n            type=\"email\"\n            placeholder=\"Email\"\n            value={formData.email}\n            onChange={(e) => setFormData({...formData, email: e.target.value})}\n            required\n          />\n        </div>\n        <div style={{ marginBottom: '15px' }}>\n          <input\n            type=\"password\"\n            placeholder=\"Password\"\n            value={formData.password}\n            onChange={(e) => setFormData({...formData, password: e.target.value})}\n            required\n          />\n        </div>\n        <button type=\"submit\" disabled={isLoading}>\n          {isLoading ? 'Logging in...' : 'Login'}\n        </button>\n      </form>\n      \n      <div style={{ margin: '20px 0', textAlign: 'center' }}>\n        <p>OR</p>\n        <GoogleLogin\n          onSuccess={handleGoogleSuccess}\n          onError={() => setError('Google login failed')}\n        />\n      </div>\n\n      <div>\n        Don't have an account? <a href=\"/register\">Register</a>\n      </div>\n    </div>\n  );\n}\n\nexport default Login;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}